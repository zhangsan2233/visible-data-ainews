import{_ as I,r as y,a as H,c as u,o as O,b as U,d as p,e as h,f as s,g as w,t as l,n as V,u as W,h as g}from"./index-DsGwuyBr.js";import{i as Y}from"./index-ClPwX7rX.js";const P={class:"home-container"},R={class:"hero-section"},q={class:"hero-content"},J={class:"system-status"},K={key:0,class:"status-item"},Q={class:"status-text"},X={key:1,class:"status-item"},Z={id:"features",class:"features-section"},tt={class:"features-grid"},st={class:"card-footer"},at={class:"feature-stats"},et={class:"stat-item"},ot={class:"stat-value"},it={class:"stat-item"},nt={class:"stat-value"},lt={class:"stat-item"},dt={class:"stat-value"},rt={class:"card-footer"},ct={class:"feature-stats"},ft={class:"stat-item"},vt={class:"stat-value"},ut={class:"stat-item"},pt={class:"stat-value"},ht={class:"stat-item"},gt={class:"stat-value"},bt={class:"card-footer"},mt={class:"feature-stats"},_t={class:"stat-item"},yt={class:"stat-value"},wt={class:"stat-item"},St={class:"stat-value"},kt={class:"stat-item"},Nt={class:"stat-value"},$t={id:"about",class:"info-section"},Dt={class:"info-content"},xt={class:"info-text"},Tt={class:"info-stats"},zt={class:"info-stat"},Lt={class:"info-stat-value"},Ct={class:"info-stat"},Mt={class:"info-stat-value"},jt={class:"info-stat"},Gt={class:"info-stat-value"},Ft={class:"info-visual"},At={class:"action-footer"},Et={class:"footer-content"},Bt={class:"footer-actions"},It=["disabled"],Ht={key:0,class:"button-icon"},Ot={class:"button-text"},Ut={__name:"Home",setup(Vt){const $=W(),b=y(null);let r=null,f=null;const D=()=>{V(()=>{if(!b.value)return;r&&(r.dispose(),r=null),r=Y(b.value);const a=[{name:"AI"},{name:"æ™ºèƒ½é©¾é©¶"}],t=[{id:"0",name:"æœºå™¨è§†è§‰",category:0,symbolSize:30,value:100},{id:"1",name:"æœºå™¨å­¦ä¹ ",category:0,symbolSize:25,value:80},{id:"2",name:"æ·±åº¦å­¦ä¹ ",category:0,symbolSize:20,value:60},{id:"3",name:"ç‰¹æ–¯æ‹‰",category:1,symbolSize:28,value:90}],o=[{source:"0",target:"1",value:.8},{source:"0",target:"2",value:.7},{source:"1",target:"2",value:.6},{source:"0",target:"3",value:.5},{source:"3",target:"4",value:.9}],d={title:{text:"æ–°é—»å…³ç³»ç½‘ç»œ",textStyle:{fontSize:14,color:"#334155"},left:"center",top:10},tooltip:{formatter:function(e){return e.dataType==="node"?`${e.data.name}<br/>çƒ­åº¦: ${e.data.value}`:`${e.data.source} â†’ ${e.data.target}<br/>å…³è”å¼ºåº¦: ${e.data.value}`}},legend:{data:a.map(e=>e.name),top:40,textStyle:{color:"#64748b"}},series:[{type:"graph",layout:"force",data:t,links:o,categories:a,roam:!0,label:{show:!0,position:"right",formatter:"{b}",fontSize:10,color:"#334155"},lineStyle:{color:"source",curveness:.3,width:2,opacity:.6},emphasis:{focus:"adjacency",lineStyle:{width:3}},force:{repulsion:200,gravity:.1,edgeLength:100,layoutAnimation:!0},symbolSize:function(e){return e.symbolSize},itemStyle:{borderColor:"#fff",borderWidth:1}}],color:["#3b82f6","#ef4444","#f59e0b","#10b981","#8b5cf6"]};r.setOption(d),f=()=>{console.log("ğŸ”„ è°ƒæ•´å›¾è¡¨å¤§å°"),r&&r.resize()},window.addEventListener("resize",f)})},m={newsNodes:0,relationships:0,keywords:0,people:0,orgs:0,clusters:0},c=y(!1),v=y(null),i=H({...m}),x=u(()=>Math.floor(i.newsNodes*.3)),T=u(()=>(i.newsNodes+i.relationships+i.keywords).toLocaleString()),z=u(()=>Math.floor(i.newsNodes*.05)),L=u(()=>25);function C(a){if(!a||a.length===0)return null;const t=a.filter(e=>e.time);if(t.length===0)return null;const d=t.sort((e,n)=>{const k=new Date(e.time);return new Date(n.time)-k})[0].time;return M(d)}function M(a){if(!a)return null;try{const t=new Date(a);if(isNaN(t.getTime())){const n=a.match(/(\d{4})å¹´(\d{1,2})æœˆ(\d{1,2})æ—¥/);if(n){const[k,N,E,B]=n;return`${N}-${E.padStart(2,"0")}-${B.padStart(2,"0")}`}return null}const o=t.getFullYear(),d=String(t.getMonth()+1).padStart(2,"0"),e=String(t.getDate()).padStart(2,"0");return`${o}-${d}-${e}`}catch(t){return console.warn("æ—¥æœŸæ ¼å¼åŒ–é”™è¯¯:",a,t),null}}async function j(){try{const a=await fetch("/news_graph_causal.json");if(!a.ok)throw new Error("Graph data file not found");return await a.json()}catch(a){return console.warn("Failed to load graph data:",a),null}}async function G(){try{const a=await fetch("/ai_analysis.json");if(!a.ok)throw new Error("Trend data file not found");return await a.json()}catch(a){return console.warn("Failed to load trend data:",a),null}}async function F(){try{const[a,t]=await Promise.all([j(),G()]),o={...m};let d=null;if(a){if(a.force_graph&&a.force_graph.nodes){o.newsNodes=a.force_graph.nodes.filter(n=>n.type==="news").length;const e=a.force_graph.nodes.filter(n=>!n.id.startsWith("super")&&n.id!=="summary_global"&&(n.type==="news"||!n.type));d=C(e)}if(a.force_graph&&a.force_graph.links&&(o.relationships=a.force_graph.links.length),a.statistics&&a.statistics.clusters_found!==void 0)o.clusters=a.statistics.clusters_found;else if(a.cluster_summaries)o.clusters=Object.keys(a.cluster_summaries).length;else if(a.force_graph&&a.force_graph.nodes){const e=a.force_graph.nodes.filter(n=>n.type==="news").length;o.clusters=Math.max(1,Math.floor(e/3))}}return t&&(t.trend&&(o.keywords=t.trend.length),t.top_people&&(o.people=t.top_people.length),t.top_orgs&&(o.orgs=t.top_orgs.length)),{stats:o,lastNewsTime:d}}catch(a){return console.error("Error calculating stats:",a),{stats:m,lastNewsTime:null}}}const S=async()=>{c.value=!0;try{const{stats:a,lastNewsTime:t}=await F();if(Object.assign(i,a),t)v.value=t;else{const o=new Date,d=o.getFullYear(),e=String(o.getMonth()+1).padStart(2,"0"),n=String(o.getDate()).padStart(2,"0");v.value=`${d}-${e}-${n}`}}catch(a){console.error("Failed to load data:",a),Object.assign(i,{newsNodes:156,relationships:423,clusters:28,keywords:187,people:45,orgs:32});const t=new Date,o=t.getFullYear(),d=String(t.getMonth()+1).padStart(2,"0"),e=String(t.getDate()).padStart(2,"0");v.value=`${o}-${d}-${e}`}finally{c.value=!1}},A=()=>{S()},_=a=>{$.push(`/${a}`)};return O(()=>{console.log("ğŸ  Home ç»„ä»¶æŒ‚è½½"),S(),D()}),U(()=>{console.log("ğŸ§¹ æ¸…ç† Home ç»„ä»¶èµ„æº"),r&&(r.dispose(),r=null),f&&(window.removeEventListener("resize",f),f=null)}),(a,t)=>(g(),p("div",P,[t[31]||(t[31]=h('<nav class="top-nav" data-v-f149e0bf><div class="nav-content" data-v-f149e0bf><div class="logo" data-v-f149e0bf><span class="logo-icon" data-v-f149e0bf>ğŸŒ</span><span class="logo-text" data-v-f149e0bf>AIæ–°é—»åˆ†æç³»ç»Ÿ</span></div><div class="nav-links" data-v-f149e0bf><a href="#features" class="nav-link" data-v-f149e0bf>åŠŸèƒ½æ¨¡å—</a><a href="#about" class="nav-link" data-v-f149e0bf>å…³äºç³»ç»Ÿ</a></div></div></nav>',1)),s("header",R,[s("div",q,[t[6]||(t[6]=s("h1",{class:"hero-title"},[s("span",{class:"title-main"},"AIæ–°é—»å…³ç³»ç½‘ç»œ"),s("span",{class:"title-sub"},"ä¸è¶‹åŠ¿åˆ†æç³»ç»Ÿ")],-1)),t[7]||(t[7]=s("p",{class:"hero-description"}," åˆ©ç”¨å…ˆè¿›çš„å¯è§†åŒ–åˆ†ææŠ€æœ¯ï¼Œæ­ç¤ºæ–°é—»ä¹‹é—´çš„å¤æ‚å…³è”ï¼Œæ´å¯Ÿä¿¡æ¯å‘å±•è¶‹åŠ¿ ",-1)),s("div",J,[t[5]||(t[5]=s("div",{class:"status-item"},[s("div",{class:"status-indicator active"}),s("span",{class:"status-text"},"ç³»ç»Ÿè¿è¡Œä¸­")],-1)),!c.value&&v.value?(g(),p("div",K,[t[3]||(t[3]=s("div",{class:"status-indicator"},null,-1)),s("span",Q,"æ•°æ®æ›´æ–°äº "+l(v.value),1)])):w("",!0),c.value?(g(),p("div",X,[...t[4]||(t[4]=[s("div",{class:"status-indicator loading"},null,-1),s("span",{class:"status-text"},"æ­£åœ¨åŠ è½½æœ€æ–°æ•°æ®...",-1)])])):w("",!0)])])]),s("section",Z,[t[23]||(t[23]=s("div",{class:"section-header"},[s("h2",{class:"section-title"},"æ ¸å¿ƒåˆ†æåŠŸèƒ½"),s("p",{class:"section-subtitle"},"é€‰æ‹©ä»¥ä¸‹ä»»ä¸€æ¨¡å—ï¼Œå¼€å§‹æ¢ç´¢æ–°é—»æ•°æ®çš„æ·±åº¦æ´å¯Ÿ")],-1)),s("div",tt,[s("div",{class:"feature-card card-graph",onClick:t[0]||(t[0]=o=>_("heatmap"))},[t[12]||(t[12]=h('<div class="card-header" data-v-f149e0bf><div class="feature-icon" data-v-f149e0bf><div class="icon-circle" data-v-f149e0bf><span data-v-f149e0bf>ğŸ”—</span></div></div><h3 class="feature-title" data-v-f149e0bf>æ–°é—»å…³è”å›¾è°±</h3></div><div class="card-body" data-v-f149e0bf><p class="feature-description" data-v-f149e0bf> é€šè¿‡äº¤äº’å¼ç½‘ç»œå›¾è°±ï¼Œç›´è§‚å±•ç¤ºæ–°é—»ä¹‹é—´çš„å¤æ‚å…³è”ï¼Œæ­ç¤ºä¸»é¢˜ç°‡ã€äººç‰©ä¸æœºæ„ä¹‹é—´çš„éšè—å…³ç³»ã€‚ </p><div class="feature-highlights" data-v-f149e0bf><div class="highlight-item" data-v-f149e0bf><span class="highlight-icon" data-v-f149e0bf>âœ“</span><span data-v-f149e0bf>æ™ºèƒ½ä¸»é¢˜èšç±»ä¸å…³è”åˆ†æ</span></div><div class="highlight-item" data-v-f149e0bf><span class="highlight-icon" data-v-f149e0bf>âœ“</span><span data-v-f149e0bf>äº¤äº’å¼è·¯å¾„å›æº¯ä¸æ¢ç´¢</span></div><div class="highlight-item" data-v-f149e0bf><span class="highlight-icon" data-v-f149e0bf>âœ“</span><span data-v-f149e0bf>å¤šç»´åº¦ä¿¡æ¯å±•ç¤ºä¸ç­›é€‰</span></div></div></div>',2)),s("div",st,[s("div",at,[s("div",et,[s("div",ot,l(i.newsNodes.toLocaleString()),1),t[8]||(t[8]=s("div",{class:"stat-label"},"æ–°é—»èŠ‚ç‚¹",-1))]),s("div",it,[s("div",nt,l(i.relationships.toLocaleString()),1),t[9]||(t[9]=s("div",{class:"stat-label"},"å…³è”å…³ç³»",-1))]),s("div",lt,[s("div",dt,l(i.clusters.toLocaleString()),1),t[10]||(t[10]=s("div",{class:"stat-label"},"ä¸»é¢˜ç°‡",-1))])]),t[11]||(t[11]=s("button",{class:"feature-button"},"Go!",-1))])]),s("div",{class:"feature-card card-trend",onClick:t[1]||(t[1]=o=>_("trend"))},[t[17]||(t[17]=h('<div class="card-header" data-v-f149e0bf><div class="feature-icon" data-v-f149e0bf><div class="icon-circle" data-v-f149e0bf><span data-v-f149e0bf>ğŸ“ˆ</span></div></div><h3 class="feature-title" data-v-f149e0bf>AIæ–°é—»è¶‹åŠ¿åˆ†æ</h3></div><div class="card-body" data-v-f149e0bf><p class="feature-description" data-v-f149e0bf> è¿½è¸ªäººå·¥æ™ºèƒ½é¢†åŸŸçš„å…³é”®è¯ã€äººç‰©å’Œæœºæ„çƒ­åº¦å˜åŒ–ï¼Œé€šè¿‡æ•°æ®å¯è§†åŒ–æ­ç¤ºæŠ€æœ¯å‘å±•è¶‹åŠ¿ä¸çƒ­ç‚¹è½¬ç§»ã€‚ </p><div class="feature-highlights" data-v-f149e0bf><div class="highlight-item" data-v-f149e0bf><span class="highlight-icon" data-v-f149e0bf>âœ“</span><span data-v-f149e0bf>å…³é”®è¯çƒ­åº¦è¶‹åŠ¿è¿½è¸ª</span></div><div class="highlight-item" data-v-f149e0bf><span class="highlight-icon" data-v-f149e0bf>âœ“</span><span data-v-f149e0bf>äººç‰©ä¸æœºæ„å½±å“åŠ›åˆ†æ</span></div><div class="highlight-item" data-v-f149e0bf><span class="highlight-icon" data-v-f149e0bf>âœ“</span><span data-v-f149e0bf>æ™ºèƒ½è”æƒ³ä¸æ¨¡ç³ŠåŒ¹é…</span></div></div></div>',2)),s("div",rt,[s("div",ct,[s("div",ft,[s("div",vt,l(i.keywords.toLocaleString()),1),t[13]||(t[13]=s("div",{class:"stat-label"},"å…³é”®è¯",-1))]),s("div",ut,[s("div",pt,l(i.people.toLocaleString()),1),t[14]||(t[14]=s("div",{class:"stat-label"},"äººç‰©è¿½è¸ª",-1))]),s("div",ht,[s("div",gt,l(i.orgs.toLocaleString()),1),t[15]||(t[15]=s("div",{class:"stat-label"},"æœºæ„åˆ†æ",-1))])]),t[16]||(t[16]=s("button",{class:"feature-button"},"Go!",-1))])]),s("div",{class:"feature-card card-news",onClick:t[2]||(t[2]=o=>_("news"))},[t[22]||(t[22]=h('<div class="card-header" data-v-f149e0bf><div class="feature-icon" data-v-f149e0bf><div class="icon-circle" data-v-f149e0bf><span data-v-f149e0bf>ğŸ“°</span></div></div><h3 class="feature-title" data-v-f149e0bf>æ–°é—»åˆ—è¡¨æµè§ˆ</h3></div><div class="card-body" data-v-f149e0bf><p class="feature-description" data-v-f149e0bf> æµè§ˆå®Œæ•´çš„æ–°é—»ä¿¡æ¯åº“ï¼ŒåŒ…æ‹¬æ ‡é¢˜ã€æ‘˜è¦ã€å‘å¸ƒæ—¶é—´å’ŒåŸæ–‡é“¾æ¥ï¼Œæ”¯æŒæ™ºèƒ½æœç´¢ä¸å¤šç»´åº¦ç­›é€‰ã€‚ </p><div class="feature-highlights" data-v-f149e0bf><div class="highlight-item" data-v-f149e0bf><span class="highlight-icon" data-v-f149e0bf>âœ“</span><span data-v-f149e0bf>å®Œæ•´æ–°é—»ä¿¡æ¯å±•ç¤º</span></div><div class="highlight-item" data-v-f149e0bf><span class="highlight-icon" data-v-f149e0bf>âœ“</span><span data-v-f149e0bf>æ™ºèƒ½æœç´¢ä¸ç­›é€‰</span></div><div class="highlight-item" data-v-f149e0bf><span class="highlight-icon" data-v-f149e0bf>âœ“</span><span data-v-f149e0bf>åˆ†é¡µæµè§ˆä¸æ’åº</span></div></div></div>',2)),s("div",bt,[s("div",mt,[s("div",_t,[s("div",yt,l(i.newsNodes.toLocaleString()),1),t[18]||(t[18]=s("div",{class:"stat-label"},"æ–°é—»æ€»æ•°",-1))]),s("div",wt,[s("div",St,l(x.value),1),t[19]||(t[19]=s("div",{class:"stat-label"},"è¿‘æœŸæ–°é—»",-1))]),s("div",kt,[s("div",Nt,l(i.clusters.toLocaleString()),1),t[20]||(t[20]=s("div",{class:"stat-label"},"ä¸»é¢˜åˆ†ç±»",-1))])]),t[21]||(t[21]=s("button",{class:"feature-button"},"Go!",-1))])])])]),s("section",$t,[s("div",Dt,[s("div",xt,[t[27]||(t[27]=s("h2",{class:"info-title"},"å…³äºç³»ç»Ÿ",-1)),t[28]||(t[28]=s("p",{class:"info-description"}," æœ¬ç³»ç»Ÿæ•´åˆäº†è‡ªç„¶è¯­è¨€å¤„ç†ã€æ•°æ®æŒ–æ˜ä¸å¯è§†åŒ–æŠ€æœ¯ï¼Œå¸®åŠ©ç”¨æˆ·ä»æµ·é‡æ–°é—»æ•°æ®ä¸­æå–æœ‰ä»·å€¼çš„ä¿¡æ¯ï¼Œ å‘ç°éšè—çš„å…³ç³»ç½‘ç»œä¸è¶‹åŠ¿å˜åŒ–ï¼Œä¸ºå†³ç­–æä¾›æ•°æ®æ”¯æŒã€‚ ",-1)),s("div",Tt,[s("div",zt,[s("div",Lt,l(T.value),1),t[24]||(t[24]=s("div",{class:"info-stat-label"},"æ•°æ®ç‚¹åˆ†æ",-1))]),s("div",Ct,[s("div",Mt,l(z.value),1),t[25]||(t[25]=s("div",{class:"info-stat-label"},"æ¯æ—¥æ›´æ–°",-1))]),s("div",jt,[s("div",Gt,l(L.value),1),t[26]||(t[26]=s("div",{class:"info-stat-label"},"æ–°é—»æ¥æº",-1))])])]),s("div",Ft,[s("div",{ref_key:"forceGraph",ref:b,class:"force-graph-container"},null,512)])])]),s("footer",At,[s("div",Et,[t[29]||(t[29]=s("h2",{class:"footer-title"},"å¼€å§‹æ¢ç´¢æ–°é—»ä¸–ç•Œ",-1)),t[30]||(t[30]=s("p",{class:"footer-description"}," é€‰æ‹©ä¸Šæ–¹ä»»ä¸€åˆ†æå·¥å…·ï¼Œæ·±å…¥æŒ–æ˜æ–°é—»æ•°æ®ä¸­çš„ä»·å€¼ä¸æ´è§ ",-1)),s("div",Bt,[s("button",{onClick:A,class:"refresh-button",disabled:c.value},[c.value?w("",!0):(g(),p("span",Ht,"ğŸ”„")),s("span",Ot,l(c.value?"åˆ·æ–°ä¸­...":"åˆ·æ–°æ•°æ®"),1)],8,It)])])])]))}},Pt=I(Ut,[["__scopeId","data-v-f149e0bf"]]);export{Pt as default};
